<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"/>
  <title>ALTEORE ‚Äî Mod√®les RH</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{
      --blue-dark:#0f1f5c;--blue-main:#1a3dce;--blue-light:#4f7ef8;--blue-ghost:#f0f4ff;
      --text:#1a1f36;--muted:#6b7280;--border:#e2e8f0;--bg:#f5f7ff;--radius:12px;
      --green:#10b981;--orange:#f59e0b;--red:#ef4444;--purple:#6366f1;
    }
    html,body{overflow-x:hidden;max-width:100vw}
    body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--bg);color:var(--text);display:flex;min-height:100vh;font-size:13px;}

    .main{margin-left:250px;flex:1;display:flex;flex-direction:column;min-width:0}
    .topbar{background:white;border-bottom:1px solid var(--border);padding:14px 28px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50}
    .topbar-left h1{font-size:17px;font-weight:700}
    .topbar-left p{font-size:12px;color:var(--muted)}
    .topbar-right{display:flex;align-items:center;gap:10px}
    .btn{padding:8px 16px;border:none;border-radius:8px;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;font-weight:600;cursor:pointer;transition:all .18s}
    .btn-primary{background:linear-gradient(135deg,var(--blue-main),var(--blue-light));color:white;box-shadow:0 3px 10px rgba(26,61,206,.25)}
    .btn-primary:hover{opacity:.9;transform:translateY(-1px)}
    .btn-outline{background:white;color:var(--blue-main);border:1.5px solid var(--border)}
    .btn-outline:hover{border-color:var(--blue-main);background:var(--blue-ghost)}
    .btn-sm{padding:5px 12px;font-size:12px}
    .btn-xs{padding:3px 8px;font-size:11px}
    .content{padding:24px 28px;flex:1}

    /* STATS */
    .hero-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:24px}
    .stat-card{background:white;border:1px solid var(--border);border-radius:var(--radius);padding:16px 18px;display:flex;align-items:center;gap:12px}
    .stat-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0}
    .stat-val{font-size:20px;font-weight:800;color:var(--text)}
    .stat-lbl{font-size:11px;color:var(--muted);font-weight:500}

    /* SEARCH */
    .search-bar{background:white;border:1.5px solid var(--border);border-radius:10px;padding:10px 14px;display:flex;align-items:center;gap:8px;margin-bottom:20px;transition:border-color .15s}
    .search-bar:focus-within{border-color:var(--blue-main)}
    .search-bar input{flex:1;border:none;outline:none;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;color:var(--text);background:transparent}

    /* THEMES */
    .themes-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:24px}
    .theme-card{background:white;border:1.5px solid var(--border);border-radius:14px;padding:18px;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
    .theme-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--tc)}
    .theme-card:hover{border-color:var(--tc);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.08)}
    .theme-card.active{border-color:var(--tc);background:var(--tb);box-shadow:0 6px 20px rgba(0,0,0,.1)}
    .theme-icon-wrap{width:42px;height:42px;border-radius:11px;display:flex;align-items:center;justify-content:center;font-size:20px;background:var(--tb);margin-bottom:10px}
    .theme-name{font-size:13px;font-weight:700;margin-bottom:3px}
    .theme-count{font-size:11px;color:var(--muted)}
    .theme-count strong{color:var(--tc)}
    .theme-tags{display:flex;flex-wrap:wrap;gap:4px;margin-top:8px}
    .theme-tag{font-size:10px;padding:2px 7px;border-radius:20px;background:#f1f5f9;color:var(--muted)}

    /* DOCS PANEL */
    .docs-panel{background:white;border:1px solid var(--border);border-radius:14px;overflow:hidden;display:none;animation:fadeIn .2s ease}
    .docs-panel.show{display:block}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
    .docs-panel-head{padding:14px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;background:#f8faff}
    .docs-panel-title{font-size:14px;font-weight:700;display:flex;align-items:center;gap:8px}
    .docs-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;padding:16px}
    .doc-card{border:1.5px solid var(--border);border-radius:10px;padding:14px;cursor:pointer;transition:all .18s;background:white;position:relative}
    .doc-card:hover{border-color:var(--blue-light);background:var(--blue-ghost);transform:translateY(-1px);box-shadow:0 4px 12px rgba(79,126,248,.1)}
    .type-badge{font-size:9px;font-weight:700;padding:2px 7px;border-radius:20px;position:absolute;top:10px;right:10px}
    .badge-doc{background:#dbeafe;color:#1d4ed8}
    .badge-email{background:#d1fae5;color:#065f46}
    .badge-sms{background:#fef3c7;color:#92400e}
    .doc-icon{font-size:20px;margin-bottom:7px}
    .doc-name{font-size:12px;font-weight:700;margin-bottom:3px}
    .doc-desc{font-size:11px;color:var(--muted);line-height:1.5}
    .fav-star{position:absolute;top:9px;right:56px;font-size:11px}

    /* MODAL */
    .modal-overlay{position:fixed;inset:0;background:rgba(15,31,92,.45);backdrop-filter:blur(4px);z-index:200;display:none;align-items:center;justify-content:center;padding:16px}
    .modal-overlay.show{display:flex}
    .modal{background:white;border-radius:16px;width:100%;max-width:820px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 24px 60px rgba(15,31,92,.2);overflow:hidden}
    .modal-head{padding:16px 22px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;flex-shrink:0}
    .modal-head-icon{width:36px;height:36px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:17px;background:var(--blue-ghost);flex-shrink:0}
    .modal-head h3{font-size:14px;font-weight:700;flex:1}
    .modal-close{background:none;border:none;font-size:18px;cursor:pointer;color:var(--muted);padding:4px}
    .modal-tabs{display:flex;border-bottom:1px solid var(--border);flex-shrink:0;padding:0 22px}
    .modal-tab{padding:9px 14px;font-size:12px;font-weight:600;color:var(--muted);cursor:pointer;border-bottom:2.5px solid transparent;transition:all .18s;white-space:nowrap}
    .modal-tab.active{color:var(--blue-main);border-bottom-color:var(--blue-main)}
    .modal-body{display:flex;flex:1;overflow:hidden;min-height:0}
    .modal-left{width:290px;flex-shrink:0;border-right:1px solid var(--border);overflow-y:auto;padding:18px}
    .modal-right{flex:1;overflow-y:auto;padding:18px;background:#f8faff}
    .modal-foot{padding:12px 18px;border-top:1px solid var(--border);display:flex;gap:8px;justify-content:flex-end;flex-shrink:0}

    /* FORM */
    .field-group{margin-bottom:12px}
    .field-label{font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.4px;margin-bottom:4px;display:block}
    .field-input{width:100%;padding:7px 10px;border:1.5px solid var(--border);border-radius:8px;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;color:var(--text);outline:none;transition:border-color .15s}
    .field-input:focus{border-color:var(--blue-main);box-shadow:0 0 0 3px rgba(79,126,248,.1)}
    .field-select{width:100%;padding:7px 10px;border:1.5px solid var(--border);border-radius:8px;font-family:'Plus Jakarta Sans',sans-serif;font-size:13px;color:var(--text);outline:none;background:white;cursor:pointer}
    .field-select:focus{border-color:var(--blue-main)}
    textarea.field-input{resize:vertical;min-height:72px;line-height:1.5}
    .field-row{display:grid;grid-template-columns:1fr 1fr;gap:8px}

    /* PREVIEW */
    .preview-doc{background:white;border:1px solid var(--border);border-radius:10px;padding:24px 28px;font-size:13px;line-height:1.85;white-space:pre-wrap;font-family:'Plus Jakarta Sans',sans-serif;color:var(--text);min-height:280px}
    .preview-email{background:white;border:1px solid var(--border);border-radius:10px;overflow:hidden}
    .email-meta{padding:10px 14px;background:#f8faff;border-bottom:1px solid var(--border);font-size:12px}
    .email-meta-row{display:flex;gap:6px;margin-bottom:3px}
    .email-meta-row:last-child{margin-bottom:0}
    .email-meta-lbl{color:var(--muted);font-weight:700;width:48px;flex-shrink:0}
    .email-body{padding:18px;font-size:13px;line-height:1.75;white-space:pre-wrap}
    .preview-sms{background:#1a1f36;border-radius:14px;padding:18px 22px;color:#f1f5f9;font-size:13.5px;line-height:1.7;max-width:360px;margin:0 auto;position:relative}
    .preview-sms::before{content:'SMS';position:absolute;top:10px;right:14px;font-size:9px;font-weight:700;color:rgba(255,255,255,.3);letter-spacing:1px}
    .sms-chars{text-align:center;font-size:10px;color:var(--muted);margin-top:6px}
    .tips-box{background:white;border-radius:10px;padding:20px;font-size:13px;line-height:1.8;color:var(--text)}
    .tips-type-badge{margin-top:14px;padding:10px 14px;background:var(--blue-ghost);border-radius:8px;font-size:12px;color:var(--blue-main)}

    /* TOAST */
    .toast{position:fixed;bottom:24px;right:24px;background:#1a1f36;color:white;padding:12px 20px;border-radius:10px;font-size:13px;font-weight:600;z-index:9999;transform:translateY(80px);opacity:0;transition:all .3s}
    .toast.show{transform:translateY(0);opacity:1}
    .toast.success{background:#10b981}
    .toast.warn{background:#f59e0b}

    /* DISCLAIMER RH */
    .rh-disclaimer{background:#fef3c7;border:1px solid #fcd34d;border-radius:10px;padding:10px 14px;font-size:11px;color:#92400e;margin-bottom:20px;display:flex;align-items:flex-start;gap:8px}

    /* RESPONSIVE */
    @media(max-width:768px){
      .main{margin-left:0!important}
      .topbar{padding:10px 10px 10px 62px!important}
      .content{padding:12px 10px!important}
      .hero-stats{grid-template-columns:1fr 1fr!important;gap:8px!important}
      .themes-grid{grid-template-columns:1fr 1fr!important;gap:10px!important}
      .docs-grid{grid-template-columns:1fr!important}
      .modal{max-width:100%!important;border-radius:16px 16px 0 0!important;max-height:92vh!important}
      .modal-overlay{align-items:flex-end!important;padding:0!important}
      .modal-body{flex-direction:column!important}
      .modal-left{width:100%!important;border-right:none!important;border-bottom:1px solid var(--border)!important;max-height:250px}
    }
    @media(max-width:480px){.themes-grid{grid-template-columns:1fr!important}}
  </style>
</head>
<body>
<div class="main">
  <div class="topbar">
    <div class="topbar-left">
      <h1>üìÑ Mod√®les de documents RH</h1>
      <p>G√©n√©rez vos documents RH en quelques secondes ¬∑ Pr√©remplis avec les infos de votre entreprise</p>
    </div>
    <div class="topbar-right">
      <button class="btn btn-outline btn-sm" onclick="openFavorites()">‚≠ê Favoris <span id="fav-count" style="background:var(--blue-ghost);color:var(--blue-main);padding:1px 6px;border-radius:10px;font-size:10px;margin-left:3px">0</span></button>
    </div>
  </div>

  <div class="content">
    <!-- STATS -->
    <div class="hero-stats">
      <div class="stat-card"><div class="stat-icon" style="background:#dbeafe">üìÑ</div><div><div class="stat-val" id="stat-total">0</div><div class="stat-lbl">Mod√®les RH disponibles</div></div></div>
      <div class="stat-card"><div class="stat-icon" style="background:#d1fae5">‚úÖ</div><div><div class="stat-val" id="stat-gen">0</div><div class="stat-lbl">Documents g√©n√©r√©s</div></div></div>
      <div class="stat-card"><div class="stat-icon" style="background:#fef3c7">‚≠ê</div><div><div class="stat-val" id="stat-fav">0</div><div class="stat-lbl">En favoris</div></div></div>
      <div class="stat-card"><div class="stat-icon" style="background:#f3e8ff">‚ö†Ô∏è</div><div><div class="stat-val" style="font-size:11px;font-weight:600;color:var(--orange)">√Ä adapter</div><div class="stat-lbl">Consultez un juriste RH</div></div></div>
    </div>

    <!-- DISCLAIMER -->
    <div class="rh-disclaimer">
      ‚ö†Ô∏è <span>Ces mod√®les sont fournis √† titre indicatif. Pour tout document contractuel ou disciplinaire, <strong>consultez un juriste ou un expert-comptable</strong>. La l√©gislation du travail √©volue r√©guli√®rement.</span>
    </div>

    <!-- SEARCH -->
    <div class="search-bar">
      <span style="color:var(--muted)">üîç</span>
      <input type="text" placeholder="Rechercher un mod√®le RH..." id="searchInput" oninput="searchModels(this.value)"/>
      <span id="search-clear" style="cursor:pointer;color:var(--muted);display:none;font-size:14px" onclick="clearSearch()">‚úï</span>
    </div>

    <!-- TH√àMES -->
    <div style="font-size:11px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:12px">Th√®mes RH</div>
    <div class="themes-grid" id="themesGrid"></div>

    <!-- DOCS PANEL -->
    <div class="docs-panel" id="docsPanel">
      <div class="docs-panel-head">
        <div class="docs-panel-title" id="docsPanelTitle">üìÑ Documents</div>
        <button class="btn btn-outline btn-xs" onclick="closePanel()">‚úï Fermer</button>
      </div>
      <div class="docs-grid" id="docsGrid"></div>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="genModal">
  <div class="modal">
    <div class="modal-head">
      <div class="modal-head-icon" id="modal-icon">üìÑ</div>
      <h3 id="modal-title">G√©n√©rer le document</h3>
      <div style="display:flex;gap:6px;align-items:center;margin-left:auto">
        <button class="btn btn-xs" id="fav-btn" onclick="toggleFav()" style="background:#fef3c7;color:#92400e;border:1px solid #fcd34d;min-height:0">‚òÜ Favori</button>
        <button class="modal-close" onclick="closeModal()">‚úï</button>
      </div>
    </div>
    <div class="modal-tabs">
      <div class="modal-tab active" id="tab-form" onclick="switchTab('form',this)">‚úèÔ∏è Param√®tres</div>
      <div class="modal-tab" id="tab-preview" onclick="switchTab('preview',this)">üëÅ Aper√ßu</div>
      <div class="modal-tab" id="tab-tips" onclick="switchTab('tips',this)">üí° Conseils</div>
    </div>
    <div class="modal-body">
      <div class="modal-left" id="modalForm"></div>
      <div class="modal-right" id="modalPreview">
        <div style="text-align:center;color:var(--muted);padding:40px 20px">
          <div style="font-size:32px;margin-bottom:10px">‚úèÔ∏è</div>
          <div style="font-size:13px">Remplissez les champs pour voir l'aper√ßu</div>
        </div>
      </div>
    </div>
    <div class="modal-foot">
      <button class="btn btn-outline btn-sm" onclick="closeModal()">Annuler</button>
      <button class="btn btn-outline btn-sm" onclick="copyDoc()">üìã Copier</button>
      <button class="btn btn-primary btn-sm" onclick="printDoc()">üñ®Ô∏è Imprimer / PDF</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
  const app = initializeApp({
    apiKey:"AIzaSyB003WqdRKrT0gbv7P4BNIICuXeqbu8dR4",
    authDomain:"altiora-70599.firebaseapp.com",
    projectId:"altiora-70599",
    storageBucket:"altiora-70599.firebasestorage.app",
    messagingSenderId:"120905555746",
    appId:"1:120905555746:web:618460c65cdc9e57cc8f7b"
  });
  const auth=getAuth(app); const db=getFirestore(app);
  window._auth=auth; window._db=db; window._doc=doc;
  window._setDoc=setDoc; window._getDoc=getDoc; window._signOut=signOut;
  onAuthStateChanged(auth, async user=>{
    if(!user){window.location.href='index.html';return;}
    window._uid=user.uid;
    window._userName=user.displayName||user.email.split('@')[0];
    window._userEmail=user.email||'';
    window._firebaseReady=true;
    const av=document.getElementById('av'); if(av)av.textContent=window._userName.charAt(0).toUpperCase();
    const un=document.getElementById('uname'); if(un)un.textContent=window._userName;
    await window.loadProfile();
    window.initModeles();
  });
</script>

<script>
// ‚îÄ‚îÄ PROFIL ‚îÄ‚îÄ
window._profile={};
window.loadProfile=async function(){
  if(!window._uid)return;
  try{
    const snap=await window._getDoc(window._doc(window._db,'users',window._uid));
    if(snap.exists())window._profile=snap.data()||{};
  }catch(e){}
};
function pv(key,fallback=''){
  return window._profile[key]||fallback;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TH√àMES ET MOD√àLES RH
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const THEMES=[
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'contrats', name:'Contrats de travail', icon:'üìã',
    color:'#1a3dce', bg:'#eff6ff',
    tags:['CDD','CDI','Avenant','Apprentissage'],
    docs:[
      {id:'cdi', name:'Contrat CDI', icon:'üìù', type:'doc',
       desc:'Contrat √† dur√©e ind√©termin√©e ‚Äî mod√®le de base',
       tips:'Le CDI est le contrat de droit commun. Pr√©cisez toujours : poste, lieu, dur√©e du travail, r√©mun√©ration, convention collective applicable. La p√©riode d\'essai doit √™tre express√©ment pr√©vue.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'siret',label:'SIRET',type:'text',prefill:'siret'},
         {id:'adresse_ent',label:'Adresse entreprise',type:'text',prefill:'adresse'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Jean Dupont, G√©rant'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Marie Martin'},
         {id:'salarie_adresse',label:'Adresse salari√©',type:'text',placeholder:'Ex: 12 rue des Fleurs, 69001 Lyon'},
         {id:'poste',label:'Poste / Fonction',type:'text',placeholder:'Ex: Responsable Commercial'},
         {id:'date_debut',label:'Date de d√©but',type:'date'},
         {id:'duree_travail',label:'Dur√©e hebdomadaire',type:'text',placeholder:'Ex: 35h / semaine'},
         {id:'salaire_brut',label:'Salaire brut mensuel (‚Ç¨)',type:'text',placeholder:'Ex: 2 200'},
         {id:'periode_essai',label:'P√©riode d\'essai',type:'text',placeholder:'Ex: 2 mois renouvelables une fois'},
         {id:'convention',label:'Convention collective',type:'text',placeholder:'Ex: CCN du Commerce de d√©tail'},
         {id:'lieu_travail',label:'Lieu de travail',type:'text',prefill:'adresse'},
       ],
       generate:f=>`CONTRAT DE TRAVAIL √Ä DUR√âE IND√âTERMIN√âE (CDI)

ENTRE LES SOUSSIGN√âS :

L'employeur :
${f.entreprise||'[Entreprise]'}
SIRET : ${f.siret||'[SIRET]'}
${f.adresse_ent||'[Adresse]'}
Repr√©sent√© par : ${f.representant||'[Repr√©sentant l√©gal]'}
Ci-apr√®s d√©sign√© ¬´ l'Employeur ¬ª

ET :

Le salari√© :
${f.salarie_nom||'[Nom Pr√©nom]'}
Demeurant : ${f.salarie_adresse||'[Adresse]'}
Ci-apr√®s d√©sign√© ¬´ le Salari√© ¬ª

IL A √âT√â CONVENU CE QUI SUIT :

ARTICLE 1 ‚Äî ENGAGEMENT
Le pr√©sent contrat est conclu pour une dur√©e ind√©termin√©e.
Le Salari√© est engag√© en qualit√© de : ${f.poste||'[Poste]'}
Date d'entr√©e en fonctions : ${f.date_debut||'[Date]'}

ARTICLE 2 ‚Äî LIEU DE TRAVAIL
Le Salari√© exercera ses fonctions √† : ${f.lieu_travail||'[Lieu]'}

ARTICLE 3 ‚Äî DUR√âE DU TRAVAIL
La dur√©e hebdomadaire de travail est fix√©e √† : ${f.duree_travail||'35h / semaine'}

ARTICLE 4 ‚Äî R√âMUN√âRATION
Le Salari√© percevra un salaire brut mensuel de : ${f.salaire_brut||'[Montant]'} ‚Ç¨
Ce salaire est vers√© √† terme √©chu, le dernier jour ouvr√© du mois.

ARTICLE 5 ‚Äî P√âRIODE D'ESSAI
Le pr√©sent contrat comporte une p√©riode d'essai de : ${f.periode_essai||'[Dur√©e]'}

ARTICLE 6 ‚Äî CONVENTION COLLECTIVE
Le pr√©sent contrat est r√©gi par la convention collective : ${f.convention||'[Convention collective]'}

ARTICLE 7 ‚Äî CONFIDENTIALIT√â
Le Salari√© s'engage √† respecter la confidentialit√© des informations dont il aura connaissance dans l'exercice de ses fonctions.

Fait en double exemplaire,
√Ä ${f.lieu_travail||'[Ville]'}, le _______________

L'Employeur :                           Le Salari√© :
(signature + tampon)                    (signature pr√©c√©d√©e de la mention ¬´ Lu et approuv√© ¬ª)

${f.representant||f.entreprise}         ${f.salarie_nom||'[Salari√©]'}`
      },
      {id:'cdd', name:'Contrat CDD', icon:'üìù', type:'doc',
       desc:'Contrat √† dur√©e d√©termin√©e avec motif obligatoire',
       tips:'Le CDD doit obligatoirement mentionner le motif de recours (remplacement, accroissement d\'activit√©, saisonnier...). Sans motif valide, il peut √™tre requalifi√© en CDI.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'siret',label:'SIRET',type:'text',prefill:'siret'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Jean Dupont, G√©rant'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Lucas Bernard'},
         {id:'salarie_adresse',label:'Adresse salari√©',type:'text',placeholder:'Adresse compl√®te'},
         {id:'motif',label:'Motif du CDD',type:'select',options:['Remplacement d\'un salari√© absent','Accroissement temporaire d\'activit√©','Emploi saisonnier','Remplacement d\'un dirigeant','Contrat d\'usage']},
         {id:'poste',label:'Poste / Fonction',type:'text',placeholder:'Ex: Vendeur(euse)'},
         {id:'date_debut',label:'Date de d√©but',type:'date'},
         {id:'date_fin',label:'Date de fin',type:'date'},
         {id:'duree_travail',label:'Dur√©e hebdomadaire',type:'text',placeholder:'Ex: 35h / semaine'},
         {id:'salaire_brut',label:'Salaire brut mensuel (‚Ç¨)',type:'text',placeholder:'Ex: 1 800'},
         {id:'convention',label:'Convention collective',type:'text',placeholder:'Ex: CCN Commerce de d√©tail'},
       ],
       generate:f=>`CONTRAT DE TRAVAIL √Ä DUR√âE D√âTERMIN√âE (CDD)

ENTRE LES SOUSSIGN√âS :

L'employeur :
${f.entreprise||'[Entreprise]'}  ‚Äî SIRET : ${f.siret||'[SIRET]'}
Repr√©sent√© par : ${f.representant||'[Repr√©sentant l√©gal]'}

ET le salari√© :
${f.salarie_nom||'[Nom Pr√©nom]'}
Demeurant : ${f.salarie_adresse||'[Adresse]'}

IL A √âT√â CONVENU CE QUI SUIT :

ARTICLE 1 ‚Äî MOTIF DE RECOURS
Le pr√©sent CDD est conclu pour le motif suivant :
${f.motif||'[Motif]'}

ARTICLE 2 ‚Äî OBJET DU CONTRAT
Le Salari√© est engag√© en qualit√© de : ${f.poste||'[Poste]'}
Dur√©e du contrat : du ${f.date_debut||'[Date d√©but]'} au ${f.date_fin||'[Date fin]'} inclus.

ARTICLE 3 ‚Äî DUR√âE DU TRAVAIL
Dur√©e hebdomadaire : ${f.duree_travail||'35h'}

ARTICLE 4 ‚Äî R√âMUN√âRATION
Salaire brut mensuel : ${f.salaire_brut||'[Montant]'} ‚Ç¨
+ Indemnit√© de fin de contrat (10% de la r√©mun√©ration totale brute) vers√©e √† l'√©ch√©ance.

ARTICLE 5 ‚Äî CONVENTION COLLECTIVE
${f.convention||'[Convention collective]'}

Fait en double exemplaire, √† ________, le _______________

L'Employeur :                    Le Salari√© :
(signature + tampon)             (Lu et approuv√© ‚Äî signature)`
      },
      {id:'avenant', name:'Avenant au contrat', icon:'üìé', type:'doc',
       desc:'Modification d\'une clause du contrat de travail existant',
       tips:'Tout avenant doit √™tre sign√© des deux parties. Il ne peut pas r√©duire les avantages acquis. Les modifications essentielles (poste, salaire, dur√©e) n√©cessitent l\'accord expr√®s du salari√©.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Jean Dupont, G√©rant'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Sophie Leroy'},
         {id:'date_contrat',label:'Date du contrat initial',type:'date'},
         {id:'type_contrat',label:'Type de contrat initial',type:'select',options:['CDI','CDD','Autre']},
         {id:'objet_avenant',label:'Objet de l\'avenant',type:'text',placeholder:'Ex: Modification du poste'},
         {id:'ancienne_clause',label:'Ancienne clause',type:'textarea',placeholder:'Ex: Article 2 ‚Äî Poste : Vendeur(euse)'},
         {id:'nouvelle_clause',label:'Nouvelle clause',type:'textarea',placeholder:'Ex: Article 2 ‚Äî Poste : Responsable rayon'},
         {id:'date_effet',label:'Date d\'entr√©e en vigueur',type:'date'},
       ],
       generate:f=>`AVENANT AU CONTRAT DE TRAVAIL

ENTRE LES SOUSSIGN√âS :

L'employeur : ${f.entreprise||'[Entreprise]'}
Repr√©sent√© par : ${f.representant||'[Repr√©sentant l√©gal]'}

ET le salari√© : ${f.salarie_nom||'[Salari√©]'}

Vu le contrat de travail (${f.type_contrat||'CDI'}) conclu le ${f.date_contrat||'[Date]'},

Les parties conviennent de modifier les dispositions suivantes :

OBJET DE L'AVENANT : ${f.objet_avenant||'[Objet]'}

ANCIENNE R√âDACTION :
${f.ancienne_clause||'[Ancienne clause]'}

NOUVELLE R√âDACTION :
${f.nouvelle_clause||'[Nouvelle clause]'}

Cette modification prendra effet le : ${f.date_effet||'[Date]'}

Toutes les autres clauses du contrat initial demeurent inchang√©es.

Fait en double exemplaire, √† ________, le _______________

L'Employeur :                    Le Salari√© :
(signature + tampon)             (Lu et approuv√© ‚Äî signature)`
      },
      {id:'contrat-apprentissage', name:'Contrat d\'apprentissage', icon:'üéì', type:'email',
       desc:'Email de pr√©sentation du dossier d\'apprentissage √† l\'alternant',
       tips:'Le contrat d\'apprentissage doit √™tre √©tabli sur le formulaire CERFA 10103. D√©posez-le aupr√®s de l\'OPCO avant le d√©but de la formation.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'apprenti_prenom',label:'Pr√©nom de l\'apprenti',type:'text',placeholder:'Ex: Lucas'},
         {id:'poste',label:'Intitul√© du poste',type:'text',placeholder:'Ex: Apprenti Vendeur'},
         {id:'diplome',label:'Dipl√¥me pr√©par√©',type:'text',placeholder:'Ex: BTS Management Commercial'},
         {id:'cfa',label:'CFA / √âcole',type:'text',placeholder:'Ex: CFA Commerce Lyon'},
         {id:'date_debut',label:'Date de d√©but',type:'date'},
         {id:'date_fin',label:'Date de fin',type:'date'},
         {id:'tuteur',label:'Ma√Ætre d\'apprentissage',type:'text',placeholder:'Nom + poste'},
         {id:'contact',label:'Contact RH',type:'text',prefill:'email'},
       ],
       objet:f=>`Bienvenue chez ${f.entreprise||'[Entreprise]'} ‚Äî Votre apprentissage`,
       generate:f=>`Bonjour ${f.apprenti_prenom||'[Pr√©nom]'},\n\nNous sommes ravis de vous accueillir chez ${f.entreprise||'[Entreprise]'} en tant qu'apprenti(e) ${f.poste||'[Poste]'} dans le cadre de votre ${f.diplome||'formation'} au ${f.cfa||'[CFA]'}.\n\nVotre apprentissage d√©butera le ${f.date_debut||'[Date d√©but]'} jusqu'au ${f.date_fin||'[Date fin]'}.\n\nVotre ma√Ætre d'apprentissage sera : ${f.tuteur||'[Tuteur]'}, qui sera votre r√©f√©rent tout au long de votre parcours.\n\nVous trouverez ci-joint :\n‚Ä¢ Le contrat d'apprentissage (CERFA) √† signer en 3 exemplaires\n‚Ä¢ Le r√®glement int√©rieur\n‚Ä¢ Le planning des premi√®res semaines\n\nMerci de nous retourner les documents sign√©s avant votre arriv√©e.\n\nBienvenue dans l'√©quipe !\n\n${f.contact||f.entreprise||'[Contact RH]'}`
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'conges', name:'Cong√©s & Absences', icon:'üèñÔ∏è',
    color:'#10b981', bg:'#f0fdf4',
    tags:['Cong√©s pay√©s','Arr√™t maladie','Absence','Accord'],
    docs:[
      {id:'accord-conges', name:'Accord de cong√©s pay√©s', icon:'‚úÖ', type:'doc',
       desc:'Validation formelle d\'une demande de cong√©s d\'un salari√©',
       tips:'L\'employeur peut refuser des cong√©s pour n√©cessit√© de service, mais doit le notifier rapidement. Les cong√©s doivent √™tre pos√©s selon les r√®gles de l\'entreprise.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Thomas Petit'},
         {id:'poste',label:'Poste',type:'text',placeholder:'Ex: Vendeur'},
         {id:'type_conge',label:'Type de cong√©',type:'select',options:['Cong√©s pay√©s annuels','RTT','Cong√© sans solde','Cong√© pour √©v√©nement familial','Cong√© formation','Autre']},
         {id:'date_debut',label:'Du',type:'date'},
         {id:'date_fin',label:'Au',type:'date'},
         {id:'nb_jours',label:'Nombre de jours ouvr√©s',type:'text',placeholder:'Ex: 5'},
         {id:'responsable',label:'Responsable signataire',type:'text',placeholder:'Nom + poste'},
       ],
       generate:f=>`ACCORD DE CONG√â
${f.entreprise||'[Entreprise]'}

Nous soussign√©s, ${f.entreprise||'[Entreprise]'}, repr√©sent√©e par ${f.responsable||'[Responsable]'},

ACCORDONS √† Monsieur / Madame ${f.salarie_nom||'[Salari√©]'}, ${f.poste||'[Poste]'},

Type de cong√©   : ${f.type_conge||'Cong√©s pay√©s annuels'}
Du              : ${f.date_debut||'[Date d√©but]'}
Au              : ${f.date_fin||'[Date fin]'} inclus
Nombre de jours : ${f.nb_jours||'[N]'} jour(s) ouvr√©(s)

Ce cong√© est accord√© sous r√©serve des n√©cessit√©s de service.

Fait √† ________, le _______________

Le responsable :                 Le salari√© (accus√© de r√©ception) :
${f.responsable||'[Responsable]'}    ${f.salarie_nom||'[Salari√©]'}`
      },
      {id:'refus-conges', name:'Refus de cong√©s', icon:'‚ùå', type:'doc',
       desc:'Notification de refus de cong√©s avec motif',
       tips:'Notifiez le refus d√®s que possible. Proposez toujours des dates alternatives. Conservez une trace √©crite.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Sophie Dubois'},
         {id:'date_debut',label:'Dates demand√©es ‚Äî Du',type:'date'},
         {id:'date_fin',label:'Au',type:'date'},
         {id:'motif',label:'Motif du refus',type:'select',options:['N√©cessit√© de service','Effectifs insuffisants sur la p√©riode','P√©riode de forte activit√©','Chevauchement avec d\'autres cong√©s','D√©lai de pr√©venance insuffisant']},
         {id:'dates_alt',label:'Dates alternatives propos√©es',type:'text',placeholder:'Ex: du 15 au 26 septembre'},
         {id:'responsable',label:'Responsable signataire',type:'text',placeholder:'Nom + poste'},
       ],
       generate:f=>`${f.entreprise||'[Entreprise]'}
Le ${new Date().toLocaleDateString('fr-FR')}

√Ä : ${f.salarie_nom||'[Salari√©]'}

Objet : Refus de votre demande de cong√© du ${f.date_debut||'[Date]'} au ${f.date_fin||'[Date]'}

Madame / Monsieur ${f.salarie_nom||'[Salari√©]'},

Nous avons bien re√ßu votre demande de cong√© pour la p√©riode du ${f.date_debut||'[Date]'} au ${f.date_fin||'[Date]'}.

Nous sommes dans le regret de ne pouvoir y donner suite pour le motif suivant :
${f.motif||'[Motif]'}

${f.dates_alt?`Nous vous proposons de reporter vos cong√©s aux dates suivantes : ${f.dates_alt}.\n`:'Nous vous invitons √† nous soumettre une nouvelle demande pour des dates compatibles avec les contraintes de l\'entreprise.\n'}
Nous vous remercions de votre compr√©hension.

Cordialement,
${f.responsable||f.entreprise||'[Responsable]'}`
      },
      {id:'sms-absence', name:'SMS ‚Äî Signalement d\'absence', icon:'üì±', type:'sms',
       desc:'SMS de rappel √† un salari√© absent sans justificatif',
       tips:'N\'envoyez ce SMS qu\'apr√®s une tentative d\'appel. Respectez la vie priv√©e du salari√©. Apr√®s 3 jours sans justificatif, une proc√©dure formelle peut √™tre engag√©e.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_prenom',label:'Pr√©nom salari√©',type:'text',placeholder:'Ex: Alex'},
         {id:'date_absence',label:'Date de l\'absence',type:'text',placeholder:'Ex: ce matin'},
         {id:'tel_rh',label:'T√©l√©phone RH / Manager',type:'text',prefill:'telephone'},
       ],
       generate:f=>`[${f.entreprise||'Entreprise'}] Bonjour ${f.salarie_prenom||'[Pr√©nom]'}, nous avons not√© votre absence ${f.date_absence||'aujourd\'hui'}. Merci de nous contacter au ${f.tel_rh||'[T√©l]'} ou de fournir un justificatif.`
      },
      {id:'email-justif-absence', name:'Email demande de justificatif', icon:'üìß', type:'email',
       desc:'Demande officielle de justificatif d\'absence',
       tips:'Envoyez cet email apr√®s 2-3 jours d\'absence injustifi√©e. Conservez-le dans le dossier du salari√©.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Marie Dupont'},
         {id:'date_debut',label:'Absent(e) depuis le',type:'date'},
         {id:'delai',label:'D√©lai pour fournir le justificatif',type:'text',placeholder:'Ex: 48 heures'},
         {id:'responsable',label:'Signataire',type:'text',placeholder:'Nom + poste'},
       ],
       objet:f=>`Demande de justificatif d'absence ‚Äî ${f.salarie_nom||'[Salari√©]'}`,
       generate:f=>`Madame / Monsieur ${f.salarie_nom||'[Salari√©]'},\n\nNous constatons votre absence depuis le ${f.date_debut||'[Date]'} sans que nous ayons re√ßu de justificatif √† ce jour.\n\nConform√©ment au r√®glement int√©rieur de l'entreprise, nous vous demandons de nous faire parvenir un justificatif (certificat m√©dical, etc.) dans un d√©lai de ${f.delai||'48 heures'} √† compter de la r√©ception du pr√©sent mail.\n\nSans retour de votre part dans ce d√©lai, nous serons contraints d'engager la proc√©dure pr√©vue en cas d'absence injustifi√©e.\n\nCordialement,\n${f.responsable||f.entreprise||'[Responsable]'}\n${f.entreprise||''}`
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'disciplinaire', name:'Sanctions & Disciplinaire', icon:'‚ö†Ô∏è',
    color:'#ef4444', bg:'#fef2f2',
    tags:['Avertissement','Mise en demeure','Bl√¢me','Convocation'],
    docs:[
      {id:'avertissement', name:'Lettre d\'avertissement', icon:'‚ö†Ô∏è', type:'doc',
       desc:'Premier niveau de sanction disciplinaire sans mise √† pied',
       tips:'L\'avertissement ne n√©cessite pas d\'entretien pr√©alable mais doit √™tre motiv√©. Il doit √™tre remis en main propre contre signature ou envoy√© en LRAR. Se prescrit apr√®s 3 ans.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Jean Martin, G√©rant'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Lucas Bernard'},
         {id:'poste',label:'Poste salari√©',type:'text',placeholder:'Ex: Employ√© de caisse'},
         {id:'date_faits',label:'Date des faits',type:'date'},
         {id:'faits',label:'Description des faits reproch√©s',type:'textarea',placeholder:'D√©crivez pr√©cis√©ment les faits : date, heure, nature du manquement...'},
         {id:'textes',label:'Obligation / R√®gle viol√©e',type:'text',placeholder:'Ex: article X du r√®glement int√©rieur, clause Y du contrat'},
         {id:'avertissement_futur',label:'Cons√©quences en cas de r√©cidive',type:'text',placeholder:'Ex: une sanction plus grave pourra √™tre prononc√©e'},
       ],
       generate:f=>`${f.entreprise||'[Entreprise]'}
Le ${new Date().toLocaleDateString('fr-FR')}

Recommand√© avec AR (ou remise en main propre)

√Ä : Monsieur / Madame ${f.salarie_nom||'[Salari√©]'} ‚Äî ${f.poste||'[Poste]'}

Objet : AVERTISSEMENT

Monsieur / Madame ${f.salarie_nom||'[Salari√©]'},

Nous avons constat√© les faits suivants √† votre encontre :

Le ${f.date_faits||'[Date]'} : ${f.faits||'[Description des faits]'}

Ces agissements constituent un manquement √† vos obligations professionnelles, notamment : ${f.textes||'[Obligation viol√©e]'}.

En cons√©quence, nous vous notifions par la pr√©sente un AVERTISSEMENT.

Nous vous rappelons que ${f.avertissement_futur||'toute r√©cidive ou nouveau manquement pourra entra√Æner une sanction disciplinaire plus grave'}.

Nous vous demandons de bien vouloir tirer les cons√©quences de cet avertissement et de veiller √† l'avenir au strict respect de vos obligations.

Fait √† _______, le ${new Date().toLocaleDateString('fr-FR')}

${f.representant||f.entreprise||'[Employeur]'}
(signature + tampon)

Accus√© de r√©ception :
Signature du salari√© : _______________ Date : _______________`
      },
      {id:'blame', name:'Bl√¢me', icon:'üî¥', type:'doc',
       desc:'Sanction plus grave que l\'avertissement, apr√®s entretien pr√©alable',
       tips:'Le bl√¢me n√©cessite un entretien pr√©alable obligatoire. Respectez le d√©lai de 2 jours ouvrables entre convocation et entretien. Notifiez dans le mois suivant l\'entretien.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Jean Martin, G√©rant'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Sophie Leroy'},
         {id:'poste',label:'Poste salari√©',type:'text',placeholder:'Ex: Responsable rayon'},
         {id:'date_entretien',label:'Date de l\'entretien pr√©alable',type:'date'},
         {id:'date_faits',label:'Date des faits reproch√©s',type:'date'},
         {id:'faits',label:'Faits reproch√©s',type:'textarea',placeholder:'Description pr√©cise et dat√©e des faits...'},
         {id:'explications',label:'Explications du salari√© (r√©sum√©)',type:'textarea',placeholder:'R√©sumez les explications donn√©es lors de l\'entretien...'},
         {id:'decision',label:'D√©cision et motivations',type:'textarea',placeholder:'Apr√®s examen, nous d√©cidons de... car...'},
       ],
       generate:f=>`${f.entreprise||'[Entreprise]'}
Le ${new Date().toLocaleDateString('fr-FR')}

LETTRE RECOMMAND√âE AVEC ACCUS√â DE R√âCEPTION

√Ä : M. / Mme ${f.salarie_nom||'[Salari√©]'} ‚Äî ${f.poste||'[Poste]'}

Objet : Notification de bl√¢me

M. / Mme ${f.salarie_nom||'[Salari√©]'},

Suite √† l'entretien pr√©alable qui s'est tenu le ${f.date_entretien||'[Date]'}, au cours duquel vous √©tiez en droit de vous faire assister, nous vous notifions la d√©cision suivante.

FAITS REPROCH√âS :
Le ${f.date_faits||'[Date]'}, nous avons constat√© : ${f.faits||'[Faits]'}

EXPLICATIONS APPORT√âES :
Lors de l'entretien, vous avez indiqu√© : ${f.explications||'[Explications du salari√©]'}

D√âCISION :
${f.decision||'Apr√®s examen des faits et de vos explications, nous avons d√©cid√© de vous infliger un bl√¢me.'}

Nous vous demandons d'en tenir compte dans votre comportement professionnel.

${f.representant||f.entreprise||'[Employeur]'}
(signature + tampon)`
      },
      {id:'convocation-entretien-disciplinaire', name:'Convocation entretien disciplinaire', icon:'üì®', type:'doc',
       desc:'Convocation obligatoire avant toute sanction grave',
       tips:'D√©lai minimum de 5 jours ouvrables entre la convocation et l\'entretien. Mentionnez toujours le droit d\'√™tre assist√©.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Jean Martin, G√©rant'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Alex Roux'},
         {id:'date_entretien',label:'Date de l\'entretien',type:'date'},
         {id:'heure',label:'Heure',type:'text',placeholder:'Ex: 14h30'},
         {id:'lieu',label:'Lieu',type:'text',placeholder:'Ex: Bureau de la direction'},
         {id:'objet_entretien',label:'Objet (sans pr√©ciser la sanction)',type:'text',placeholder:'Ex: pour un entretien relatif √† votre comportement professionnel'},
       ],
       generate:f=>`${f.entreprise||'[Entreprise]'}
Le ${new Date().toLocaleDateString('fr-FR')}

LETTRE RECOMMAND√âE AVEC ACCUS√â DE R√âCEPTION

√Ä : M. / Mme ${f.salarie_nom||'[Salari√©]'}

Objet : Convocation √† un entretien pr√©alable

Madame / Monsieur,

Nous avons le regret de vous informer que nous envisageons de prendre une d√©cision pouvant affecter votre situation dans l'entreprise.

√Ä cet effet, nous vous convions √† un entretien pr√©alable qui se tiendra :

   Date  : ${f.date_entretien||'[Date]'}
   Heure : ${f.heure||'[Heure]'}
   Lieu  : ${f.lieu||'[Lieu]'}

Lors de cet entretien, ${f.objet_entretien||'[Objet de l\'entretien]'}.

Vous avez la facult√© de vous faire assister par une personne de votre choix appartenant au personnel de l'entreprise.

${f.representant||f.entreprise||'[Employeur]'}
(signature + tampon)`
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'fin-contrat', name:'Fin de contrat', icon:'üö™',
    color:'#6366f1', bg:'#eef2ff',
    tags:['D√©mission','Licenciement','Rupture conventionnelle','Retraite'],
    docs:[
      {id:'acceptation-demission', name:'Acceptation de d√©mission', icon:'‚úâÔ∏è', type:'doc',
       desc:'Accus√© de r√©ception et acceptation de la d√©mission d\'un salari√©',
       tips:'La d√©mission doit √™tre claire et non √©quivoque. Pr√©cisez la date de fin du pr√©avis. Rappeler les obligations (restitution mat√©riel, solde de tout compte).',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Claire Morin'},
         {id:'poste',label:'Poste',type:'text',placeholder:'Ex: Charg√©e de client√®le'},
         {id:'date_reception',label:'Date de r√©ception de la d√©mission',type:'date'},
         {id:'date_fin_preavis',label:'Date de fin de pr√©avis',type:'date'},
         {id:'duree_preavis',label:'Dur√©e du pr√©avis',type:'text',placeholder:'Ex: 1 mois'},
         {id:'responsable',label:'Signataire',type:'text',placeholder:'Nom + poste'},
       ],
       generate:f=>`${f.entreprise||'[Entreprise]'}
Le ${new Date().toLocaleDateString('fr-FR')}

√Ä : M. / Mme ${f.salarie_nom||'[Salari√©]'} ‚Äî ${f.poste||'[Poste]'}

Objet : Accus√© de r√©ception de votre d√©mission

Madame / Monsieur,

Nous avons bien pris connaissance de votre lettre de d√©mission re√ßue le ${f.date_reception||'[Date]'}.

Nous prenons acte de votre d√©cision de quitter votre poste de ${f.poste||'[Poste]'}.

Conform√©ment √† votre contrat de travail et aux dispositions conventionnelles applicables, votre pr√©avis d'une dur√©e de ${f.duree_preavis||'[Dur√©e]'} d√©butera √† la date de r√©ception de votre courrier.

La date pr√©visionnelle de fin de votre contrat est fix√©e au ${f.date_fin_preavis||'[Date fin pr√©avis]'}.

Nous vous remercions de votre collaboration et vous souhaitons bonne continuation.

${f.responsable||f.entreprise||'[Responsable]'}
(signature + tampon)`
      },
      {id:'rupture-conventionnelle', name:'Email information rupture conventionnelle', icon:'ü§ù', type:'email',
       desc:'Email d\'information au salari√© sur la proc√©dure de rupture conventionnelle',
       tips:'La rupture conventionnelle est un accord mutuel. Elle ouvre droit √† l\'assurance ch√¥mage. Le formulaire CERFA 14598 est obligatoire. Un d√©lai de r√©tractation de 15 jours calendaires s\'applique.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_prenom',label:'Pr√©nom salari√©',type:'text',placeholder:'Ex: Marc'},
         {id:'date_entretien',label:'Date propos√©e pour l\'entretien',type:'date'},
         {id:'heure',label:'Heure',type:'text',placeholder:'Ex: 10h00'},
         {id:'responsable',label:'Contact RH',type:'text',prefill:'email'},
       ],
       objet:f=>`Proc√©dure de rupture conventionnelle ‚Äî Information`,
       generate:f=>`Bonjour ${f.salarie_prenom||'[Pr√©nom]'},\n\nFaisant suite √† nos √©changes, nous vous confirmons l'ouverture d'une proc√©dure de rupture conventionnelle amiable de votre contrat de travail.\n\nNous vous proposons un premier entretien le ${f.date_entretien||'[Date]'} √† ${f.heure||'[Heure]'} pour convenir ensemble des conditions.\n\nPour rappel, la proc√©dure de rupture conventionnelle :\n‚Ä¢ N√©cessite au moins un entretien entre les deux parties\n‚Ä¢ Implique la signature d'une convention (formulaire CERFA 14598)\n‚Ä¢ Ouvre un d√©lai de r√©tractation de 15 jours calendaires\n‚Ä¢ Doit √™tre homologu√©e par la DREETS\n‚Ä¢ Ouvre droit √† l'assurance ch√¥mage\n\nVous pouvez vous faire assister lors des entretiens par une personne de votre choix dans l'entreprise.\n\nCordialement,\n${f.responsable||f.entreprise||'[Contact RH]'}`
      },
      {id:'sms-fin-contrat', name:'SMS ‚Äî Rappel derni√®re d√©marche', icon:'üì±', type:'sms',
       desc:'SMS rappelant au salari√© ses derni√®res d√©marches (restitution mat√©riel, solde tout compte)',
       tips:'√Ä envoyer en compl√©ment d\'un email officiel, pas √† la place. Restez factuel et neutre.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_prenom',label:'Pr√©nom salari√©',type:'text',placeholder:'Ex: Julie'},
         {id:'date_sortie',label:'Date de sortie',type:'text',placeholder:'Ex: vendredi 28 mars'},
         {id:'contact',label:'Contact RH',type:'text',prefill:'telephone'},
       ],
       generate:f=>`[${f.entreprise||'Entreprise'}] Bonjour ${f.salarie_prenom||'[Pr√©nom]'}, rappel: le ${f.date_sortie||'[date]'} merci de restituer votre mat√©riel et de signer votre solde de tout compte. Contact: ${f.contact||'[T√©l]'}`
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'attestations', name:'Attestations & Certificats', icon:'üèÖ',
    color:'#f59e0b', bg:'#fffbeb',
    tags:['Certificat de travail','Attestation emploi','Attestation salaire'],
    docs:[
      {id:'certificat-travail', name:'Certificat de travail', icon:'üìú', type:'doc',
       desc:'Document obligatoire remis √† tout salari√© quittant l\'entreprise',
       tips:'Le certificat de travail est obligatoire √† la fin de tout contrat. Il doit mentionner les dates d\'emploi, la nature du poste et les organismes de portabilit√© (mutuelle, pr√©voyance).',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'siret',label:'SIRET',type:'text',prefill:'siret'},
         {id:'adresse_ent',label:'Adresse entreprise',type:'text',prefill:'adresse'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Thomas Leroy'},
         {id:'date_entree',label:'Date d\'entr√©e',type:'date'},
         {id:'date_sortie',label:'Date de sortie',type:'date'},
         {id:'poste',label:'Dernier poste occup√©',type:'text',placeholder:'Ex: Responsable logistique'},
         {id:'mutuelle',label:'Organisme mutuelle (portabilit√©)',type:'text',placeholder:'Ex: Harmonie Mutuelle'},
         {id:'prevoyance',label:'Organisme pr√©voyance (portabilit√©)',type:'text',placeholder:'Ex: AG2R La Mondiale'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Nom + fonction'},
       ],
       generate:f=>`CERTIFICAT DE TRAVAIL

${f.entreprise||'[Entreprise]'}
SIRET : ${f.siret||'[SIRET]'}
${f.adresse_ent||'[Adresse]'}

Je soussign√©(e), ${f.representant||'[Repr√©sentant]'}, repr√©sentant l'entreprise ${f.entreprise||'[Entreprise]'},

CERTIFIE que Monsieur / Madame ${f.salarie_nom||'[Salari√©]'} a √©t√© employ√©(e) dans notre entreprise :

Du        : ${f.date_entree||'[Date entr√©e]'}
Au        : ${f.date_sortie||'[Date sortie]'}
En qualit√© de : ${f.poste||'[Poste]'}

Conform√©ment √† l'article L. 1237-19 du Code du travail, ce salari√© peut b√©n√©ficier du maintien √† titre gratuit des garanties compl√©mentaires sant√© et pr√©voyance (portabilit√©) :
‚Ä¢ Mutuelle        : ${f.mutuelle||'[Organisme mutuelle]'}
‚Ä¢ Pr√©voyance      : ${f.prevoyance||'[Organisme pr√©voyance]'}

Ce certificat est d√©livr√© pour servir et valoir ce que de droit.

Fait √† ________, le ${new Date().toLocaleDateString('fr-FR')}

${f.representant||f.entreprise||'[Repr√©sentant]'}
(signature + tampon)`
      },
      {id:'attestation-emploi', name:'Attestation d\'emploi', icon:'‚úÖ', type:'doc',
       desc:'Confirme qu\'une personne est bien employ√©e dans l\'entreprise',
       tips:'Ce document est souvent demand√© pour les d√©marches bancaires ou administratives. Il n\'engage pas votre responsabilit√© sur le contenu des donn√©es d√©clar√©es par le salari√©.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'siret',label:'SIRET',type:'text',prefill:'siret'},
         {id:'representant',label:'Repr√©sentant l√©gal',type:'text',placeholder:'Ex: Sophie Martin, G√©rante'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: Antoine Durand'},
         {id:'poste',label:'Poste',type:'text',placeholder:'Ex: Technicien'},
         {id:'type_contrat',label:'Type de contrat',type:'select',options:['CDI','CDD','Contrat d\'apprentissage','Contrat de professionnalisation']},
         {id:'date_entree',label:'En poste depuis le',type:'date'},
         {id:'salaire_brut',label:'Salaire brut mensuel (‚Ç¨)',type:'text',placeholder:'Ex: 2 100'},
         {id:'destinataire',label:'Destinataire de l\'attestation',type:'text',placeholder:'Ex: Banque, Bailleur, Pr√©fecture'},
       ],
       generate:f=>`ATTESTATION D'EMPLOI

Je soussign√©(e), ${f.representant||'[Repr√©sentant]'},
repr√©sentant la soci√©t√© ${f.entreprise||'[Entreprise]'} (SIRET : ${f.siret||'[SIRET]'}),

ATTESTE que Monsieur / Madame ${f.salarie_nom||'[Salari√©]'} est actuellement employ√©(e) au sein de notre entreprise en qualit√© de ${f.poste||'[Poste]'} (${f.type_contrat||'CDI'}) depuis le ${f.date_entree||'[Date]'}.

Sa r√©mun√©ration brute mensuelle est de : ${f.salaire_brut||'[Montant]'} ‚Ç¨

La pr√©sente attestation est d√©livr√©e √† la demande de l'int√©ress√©(e) pour faire valoir aupr√®s de : ${f.destinataire||'tout organisme qui en fera la demande'}.

Fait √† ________, le ${new Date().toLocaleDateString('fr-FR')}

${f.representant||f.entreprise||'[Repr√©sentant]'}
(signature + tampon)`
      },
      {id:'attestation-salaire', name:'Attestation de salaire (arr√™t maladie)', icon:'üè•', type:'doc',
       desc:'Attestation de salaire √† envoyer √† la CPAM lors d\'un arr√™t maladie',
       tips:'√Ä envoyer √† la CPAM dans les 5 jours suivant le d√©but de l\'arr√™t. D√©clarez les salaires des 3 mois pr√©c√©dents. La t√©l√©d√©claration sur net-entreprises.fr est recommand√©e.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'siret',label:'SIRET',type:'text',prefill:'siret'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: √âmilie Fontaine'},
         {id:'date_debut_arret',label:'D√©but arr√™t maladie',type:'date'},
         {id:'salaire_m1',label:'Salaire brut M-1 (‚Ç¨)',type:'text',placeholder:'Ex: 2 200'},
         {id:'salaire_m2',label:'Salaire brut M-2 (‚Ç¨)',type:'text',placeholder:'Ex: 2 200'},
         {id:'salaire_m3',label:'Salaire brut M-3 (‚Ç¨)',type:'text',placeholder:'Ex: 2 100'},
         {id:'cpam',label:'CPAM destinataire',type:'text',placeholder:'Ex: CPAM du Rh√¥ne'},
       ],
       generate:f=>`ATTESTATION DE SALAIRE ‚Äî MALADIE
(√Ä adresser √† la ${f.cpam||'CPAM'})

EMPLOYEUR :
Entreprise : ${f.entreprise||'[Entreprise]'}
SIRET      : ${f.siret||'[SIRET]'}

SALARI√â(E) :
Nom & Pr√©nom : ${f.salarie_nom||'[Salari√©]'}
D√©but de l'arr√™t de travail : ${f.date_debut_arret||'[Date]'}

R√âMUN√âRATION DES 3 DERNIERS MOIS :
‚Ä¢ Mois M-1 : ${f.salaire_m1||'[Montant]'} ‚Ç¨ bruts
‚Ä¢ Mois M-2 : ${f.salaire_m2||'[Montant]'} ‚Ç¨ bruts
‚Ä¢ Mois M-3 : ${f.salaire_m3||'[Montant]'} ‚Ç¨ bruts

üìå Remarque : ce document est fourni √† titre indicatif. La d√©claration officielle doit √™tre effectu√©e via net-entreprises.fr ou le formulaire CERFA S3201.

Fait le ${new Date().toLocaleDateString('fr-FR')}
${f.entreprise||'[Entreprise]'} ‚Äî (signature + tampon)`
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'comm-rh', name:'Communication RH', icon:'üì¢',
    color:'#14b8a6', bg:'#f0fdfa',
    tags:['Annonce interne','Bienvenue','R√®glement','Info √©quipe'],
    docs:[
      {id:'email-bienvenue-salarie', name:'Email de bienvenue salari√©', icon:'üëã', type:'email',
       desc:'Accueillez chaleureusement un nouveau collaborateur',
       tips:'Envoyez avant le premier jour. Pr√©cisez les informations pratiques (parking, acc√®s, dress code). D√©signez un parrain/marraine si possible.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_prenom',label:'Pr√©nom du nouveau salari√©',type:'text',placeholder:'Ex: Camille'},
         {id:'poste',label:'Poste',type:'text',placeholder:'Ex: Charg√©e de marketing'},
         {id:'date_arrivee',label:'Date d\'arriv√©e',type:'date'},
         {id:'heure_arrivee',label:'Heure d\'arriv√©e',type:'text',placeholder:'Ex: 9h00'},
         {id:'referent',label:'R√©f√©rent / Parrain',type:'text',placeholder:'Ex: Nicolas, Responsable Marketing'},
         {id:'infos_pratiques',label:'Infos pratiques',type:'textarea',placeholder:'Ex: Se pr√©senter √† l\'accueil, parking gratuit, tenue d√©contract√©e...'},
         {id:'contact',label:'Contact RH',type:'text',prefill:'email'},
       ],
       objet:f=>`Bienvenue chez ${f.entreprise||'[Entreprise]'} ${f.salarie_prenom||''}! üéâ`,
       generate:f=>`Bonjour ${f.salarie_prenom||'[Pr√©nom]'},\n\nToute l'√©quipe de ${f.entreprise||'[Entreprise]'} est ravie de vous accueillir en tant que ${f.poste||'[Poste]'} !\n\nVotre premi√®re journ√©e est pr√©vue le ${f.date_arrivee||'[Date]'} √† ${f.heure_arrivee||'[Heure]'}.\n\nQuelques informations pratiques :\n${f.infos_pratiques||'‚Ä¢ Pr√©sentez-vous √† l\'accueil √† votre arriv√©e'}\n\n${f.referent?`Votre r√©f√©rent pour cette premi√®re p√©riode sera ${f.referent}, qui sera l√† pour r√©pondre √† toutes vos questions.\n\n`:''}N'h√©sitez pas √† nous contacter avant votre arriv√©e pour toute question : ${f.contact||'[Contact RH]'}\n\nNous vous souhaitons la bienvenue et avons h√¢te de vous retrouver !\n\nChaleureusement,\nL'√©quipe ${f.entreprise||''}`
      },
      {id:'note-service-rh', name:'Note d\'information RH', icon:'üìã', type:'doc',
       desc:'Communication interne sur un sujet RH (planning, cong√©s, r√®gles...)',
       tips:'Soyez clair et concis. Pr√©cisez si une action est requise de la part des salari√©s.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'objet',label:'Objet',type:'text',placeholder:'Ex: Planning des cong√©s √©t√© 2025'},
         {id:'destinataires',label:'Destinataires',type:'text',placeholder:'Ex: Tous les salari√©s'},
         {id:'contenu',label:'Contenu',type:'textarea',placeholder:'R√©digez votre message...'},
         {id:'action_requise',label:'Action requise (optionnel)',type:'text',placeholder:'Ex: Merci de soumettre vos demandes avant le 15 mars'},
         {id:'date_limite',label:'Date limite (si action requise)',type:'date'},
         {id:'signataire',label:'Signataire',type:'text',placeholder:'Ex: La Direction RH'},
       ],
       generate:f=>`NOTE D'INFORMATION RH
${f.entreprise||'[Entreprise]'}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
DE       : ${f.signataire||'La Direction RH'}
√Ä        : ${f.destinataires||'Tous les salari√©s'}
DATE     : ${new Date().toLocaleDateString('fr-FR')}
OBJET    : ${f.objet||'[Objet]'}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

${f.contenu||'[Contenu]'}

${f.action_requise?`\n‚úÖ Action requise : ${f.action_requise}${f.date_limite?' ‚Äî avant le '+f.date_limite:''}\n`:''}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.signataire||f.entreprise||'[Signataire]'}`
      },
      {id:'sms-info-equipe', name:'SMS info √©quipe', icon:'üì±', type:'sms',
       desc:'SMS rapide pour informer l\'√©quipe d\'un changement ou √©v√©nement',
       tips:'R√©servez les SMS aux informations urgentes ou importantes. Pour les communications r√©guli√®res, privil√©giez l\'email.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'message',label:'Votre message',type:'textarea',placeholder:'Ex: R√©union d\'√©quipe exceptionnelle demain matin √† 9h ‚Äî merci d\'√™tre pr√©sents'},
         {id:'contact',label:'Contact pour r√©ponse',type:'text',prefill:'telephone'},
       ],
       generate:f=>`[${f.entreprise||'Entreprise'}] ${f.message||'[Message]'} ‚Äî Contact: ${f.contact||'[T√©l]'}`
      },
      {id:'email-annonce-rh', name:'Email annonce RH (d√©part/arriv√©e)', icon:'üì£', type:'email',
       desc:'Communication officielle sur une arriv√©e ou un d√©part dans l\'√©quipe',
       tips:'Communiquez rapidement apr√®s la d√©cision officielle. Soyez positif m√™me en cas de d√©part.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'type_annonce',label:'Type d\'annonce',type:'select',options:['Arriv√©e','D√©part','Promotion','Changement de poste']},
         {id:'salarie_nom',label:'Nom & pr√©nom concern√©',type:'text',placeholder:'Ex: Julie Brun'},
         {id:'poste_nouveau',label:'Nouveau poste / R√¥le',type:'text',placeholder:'Ex: Responsable RH'},
         {id:'poste_precedent',label:'Poste pr√©c√©dent (si d√©part/mutation)',type:'text',placeholder:'Ex: Assistante RH'},
         {id:'date_effet',label:'Date d\'effet',type:'date'},
         {id:'message',label:'Message personnalis√©',type:'textarea',placeholder:'Ajoutez un mot chaleureux...'},
         {id:'signataire',label:'Signataire',type:'text',placeholder:'Ex: La Direction'},
       ],
       objet:f=>`${f.type_annonce||'Annonce'} ‚Äî ${f.salarie_nom||''}`,
       generate:f=>{
         const msg = f.type_annonce==='D√©part'?
           `C'est avec √©motion que nous vous annon√ßons le d√©part de ${f.salarie_nom||'[Pr√©nom Nom]'}, qui occupait le poste de ${f.poste_precedent||'[Poste]'}. Nous lui souhaitons le meilleur pour la suite de son parcours.`:
           f.type_annonce==='Promotion'||f.type_annonce==='Changement de poste'?
           `Nous avons le plaisir de vous annoncer que ${f.salarie_nom||'[Pr√©nom Nom]'} prend ses nouvelles fonctions de ${f.poste_nouveau||'[Poste]'} √† compter du ${f.date_effet||'[Date]'}.`:
           `Nous avons le plaisir de vous pr√©senter ${f.salarie_nom||'[Pr√©nom Nom]'} qui rejoint notre √©quipe en tant que ${f.poste_nouveau||'[Poste]'} √† compter du ${f.date_effet||'[Date]'}.`;
         return `Ch√®re √©quipe,\n\n${msg}\n\n${f.message||''}\n\nMerci de lui r√©server le meilleur accueil.\n\nCordialement,\n${f.signataire||f.entreprise||'La Direction'}`;}
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'entretiens', name:'Entretiens RH', icon:'üí¨',
    color:'#8b5cf6', bg:'#f5f3ff',
    tags:['Entretien annuel','Entretien pro','Convocation','Compte-rendu'],
    docs:[
      {id:'convoc-entretien-annuel', name:'Convocation entretien annuel', icon:'üìÖ', type:'email',
       desc:'Invitation √† l\'entretien annuel d\'√©valuation',
       tips:'L\'entretien annuel n\'est pas obligatoire l√©galement mais fortement recommand√©. Il doit √™tre distingu√© de l\'entretien professionnel (obligatoire tous les 2 ans).',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_prenom',label:'Pr√©nom du salari√©',type:'text',placeholder:'Ex: Antoine'},
         {id:'date_entretien',label:'Date propos√©e',type:'date'},
         {id:'heure',label:'Heure',type:'text',placeholder:'Ex: 14h00'},
         {id:'lieu',label:'Lieu',type:'text',placeholder:'Ex: Bureau du manager'},
         {id:'evaluateur',label:'√âvaluateur',type:'text',placeholder:'Votre nom + poste'},
         {id:'docs_preparer',label:'Documents √† pr√©parer (optionnel)',type:'text',placeholder:'Ex: Auto-√©valuation, objectifs N-1'},
       ],
       objet:f=>`Entretien annuel d'√©valuation ‚Äî ${f.salarie_prenom||'[Pr√©nom]'}`,
       generate:f=>`Bonjour ${f.salarie_prenom||'[Pr√©nom]'},\n\nJe vous contacte pour planifier votre entretien annuel d'√©valuation.\n\nJe vous propose :\n   üìÖ Date  : ${f.date_entretien||'[Date]'}\n   üïê Heure : ${f.heure||'[Heure]'}\n   üìç Lieu  : ${f.lieu||'[Lieu]'}\n\nCet entretien sera l'occasion de faire le bilan de l'ann√©e √©coul√©e, d'√©valuer l'atteinte de vos objectifs et de d√©finir ensemble vos objectifs pour l'ann√©e √† venir.\n\n${f.docs_preparer?`Merci de pr√©parer : ${f.docs_preparer}\n\n`:''}Si ces cr√©neaux ne vous conviennent pas, n'h√©sitez pas √† me proposer une alternative.\n\nCordialement,\n${f.evaluateur||f.entreprise||'[√âvaluateur]'}`
      },
      {id:'convoc-entretien-pro', name:'Convocation entretien professionnel', icon:'üìÖ', type:'email',
       desc:'Convocation √† l\'entretien professionnel obligatoire (tous les 2 ans)',
       tips:'L\'entretien professionnel est OBLIGATOIRE tous les 2 ans et apr√®s certains cong√©s (maternit√©, longue maladie...). Il porte sur les perspectives d\'√©volution professionnelle et non sur l\'√©valuation du travail.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_prenom',label:'Pr√©nom du salari√©',type:'text',placeholder:'Ex: Lucie'},
         {id:'salarie_nom',label:'Nom du salari√©',type:'text',placeholder:'Ex: Renard'},
         {id:'date_entretien',label:'Date propos√©e',type:'date'},
         {id:'heure',label:'Heure',type:'text',placeholder:'Ex: 10h30'},
         {id:'evaluateur',label:'Responsable de l\'entretien',type:'text',placeholder:'Votre nom + poste'},
       ],
       objet:f=>`Entretien professionnel ‚Äî ${f.salarie_prenom||''} ${f.salarie_nom||''}`,
       generate:f=>`Bonjour ${f.salarie_prenom||'[Pr√©nom]'},\n\nConform√©ment aux dispositions de l'article L.6315-1 du Code du travail, chaque salari√© b√©n√©ficie tous les deux ans d'un entretien professionnel consacr√© √† ses perspectives d'√©volution, notamment en termes de qualifications et d'emploi.\n\nJe vous propose :\n   üìÖ Date  : ${f.date_entretien||'[Date]'}\n   üïê Heure : ${f.heure||'[Heure]'}\n\nCet entretien porte sur vos perspectives d'√©volution professionnelle, vos souhaits de formation et votre projet professionnel. Il est distinct de votre entretien annuel d'√©valuation.\n\nCordialement,\n${f.evaluateur||f.entreprise||'[Responsable]'}`
      },
      {id:'cr-entretien-annuel', name:'Compte-rendu entretien annuel', icon:'üìù', type:'doc',
       desc:'Document de synth√®se apr√®s l\'entretien annuel d\'√©valuation',
       tips:'Faites signer le document par les deux parties. Le salari√© peut ajouter ses observations. Conservez ce document au moins 5 ans.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'salarie_nom',label:'Nom & pr√©nom salari√©',type:'text',placeholder:'Ex: David Martin'},
         {id:'poste',label:'Poste',type:'text',placeholder:'Ex: Technicien SAV'},
         {id:'evaluateur',label:'√âvaluateur',type:'text',placeholder:'Nom + poste'},
         {id:'date_entretien',label:'Date de l\'entretien',type:'date'},
         {id:'bilan_objectifs',label:'Bilan objectifs N-1',type:'textarea',placeholder:'Atteints: ...\nPartiellement: ...\nNon atteints: ...'},
         {id:'points_forts',label:'Points forts identifi√©s',type:'textarea',placeholder:'Comp√©tences, comportements valoris√©s...'},
         {id:'axes_amelio',label:'Axes de progr√®s',type:'textarea',placeholder:'Points √† am√©liorer, comp√©tences √† d√©velopper...'},
         {id:'objectifs_n',label:'Objectifs ann√©e N',type:'textarea',placeholder:'Objectif 1: ...\nObjectif 2: ...\nObjectif 3: ...'},
         {id:'formation',label:'Besoins en formation (optionnel)',type:'text',placeholder:'Ex: Formation management, Excel avanc√©...'},
         {id:'evolution',label:'Souhaits d\'√©volution salari√© (optionnel)',type:'text',placeholder:'Ex: √âvolution vers un poste de responsable'},
         {id:'note_globale',label:'Appr√©ciation globale',type:'select',options:['Excellent','Tr√®s bien','Bien','√Ä am√©liorer','Insuffisant']},
       ],
       generate:f=>`COMPTE-RENDU ENTRETIEN ANNUEL D'√âVALUATION
${f.entreprise||'[Entreprise]'}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Salari√©     : ${f.salarie_nom||'[Salari√©]'} ‚Äî ${f.poste||'[Poste]'}
√âvaluateur  : ${f.evaluateur||'[√âvaluateur]'}
Date        : ${f.date_entretien||'[Date]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
BILAN DES OBJECTIFS N-1
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.bilan_objectifs||'[Bilan]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
POINTS FORTS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.points_forts||'[Points forts]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
AXES DE PROGR√àS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.axes_amelio||'[Axes d\'am√©lioration]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
OBJECTIFS ANN√âE N
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.objectifs_n||'[Objectifs]'}

${f.formation?`‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nBESOINS EN FORMATION\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n${f.formation}\n`:''}
${f.evolution?`‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nSOUHAITS D'√âVOLUTION\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n${f.evolution}\n`:''}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
APPR√âCIATION GLOBALE : ${f.note_globale||'[Note]'}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

Fait √† ________, le ${f.date_entretien||'[Date]'}

Signature √©valuateur :              Signature salari√© :
${f.evaluateur||'[√âvaluateur]'}         ${f.salarie_nom||'[Salari√©]'}

Observations du salari√© (optionnel) :
_____________________________________________`
      },
    ]
  },
  // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  {
    id:'fiches-poste', name:'Fiches de poste', icon:'üóÇÔ∏è',
    color:'#f97316', bg:'#fff7ed',
    tags:['Fiche de poste','Offre d\'emploi','Profil recherch√©'],
    docs:[
      {id:'fiche-poste', name:'Fiche de poste', icon:'üìã', type:'doc',
       desc:'D√©crit les missions, comp√©tences et conditions du poste',
       tips:'Une bonne fiche de poste est utile pour le recrutement, les entretiens annuels et les proc√©dures de licenciement. Mettez-la √† jour lors de tout changement significatif.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'intitule',label:'Intitul√© du poste',type:'text',placeholder:'Ex: Responsable Commercial Terrain'},
         {id:'service',label:'Service / D√©partement',type:'text',placeholder:'Ex: Commerce'},
         {id:'rattachement',label:'Rattachement hi√©rarchique',type:'text',placeholder:'Ex: Directeur Commercial'},
         {id:'type_contrat',label:'Type de contrat',type:'select',options:['CDI','CDD','Alternance','Stage','Freelance']},
         {id:'lieu',label:'Lieu de travail',type:'text',prefill:'adresse'},
         {id:'salaire',label:'R√©mun√©ration',type:'text',placeholder:'Ex: 32 000 ‚Äì 38 000 ‚Ç¨ brut/an'},
         {id:'missions',label:'Missions principales',type:'textarea',placeholder:'‚Ä¢ Mission 1\n‚Ä¢ Mission 2\n‚Ä¢ Mission 3'},
         {id:'competences_requises',label:'Comp√©tences requises',type:'textarea',placeholder:'‚Ä¢ Comp√©tence 1\n‚Ä¢ Comp√©tence 2'},
         {id:'qualifications',label:'Formation / Exp√©rience requise',type:'text',placeholder:'Ex: Bac+3 minimum, 2 ans d\'exp√©rience'},
         {id:'avantages',label:'Avantages (optionnel)',type:'text',placeholder:'Ex: Mutuelle, tickets restaurant, t√©l√©travail'},
       ],
       generate:f=>`FICHE DE POSTE
${f.entreprise||'[Entreprise]'}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

INTITUL√â DU POSTE    : ${f.intitule||'[Poste]'}
SERVICE              : ${f.service||'[Service]'}
RATTACHEMENT         : ${f.rattachement||'[Responsable]'}
TYPE DE CONTRAT      : ${f.type_contrat||'CDI'}
LIEU DE TRAVAIL      : ${f.lieu||'[Lieu]'}
R√âMUN√âRATION         : ${f.salaire||'[Salaire]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
MISSIONS PRINCIPALES
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.missions||'[Missions]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
COMP√âTENCES REQUISES
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.competences_requises||'[Comp√©tences]'}

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
FORMATION & EXP√âRIENCE
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${f.qualifications||'[Qualifications]'}

${f.avantages?`‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nAVANTAGES\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n${f.avantages}\n`:''}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Document √©tabli par : ${f.entreprise||'[Entreprise]'}
Date : ${new Date().toLocaleDateString('fr-FR')}`
      },
      {id:'offre-emploi-email', name:'Email diffusion offre d\'emploi', icon:'üì£', type:'email',
       desc:'Email pour diffuser une offre d\'emploi √† votre r√©seau ou en interne',
       tips:'Diffusez en interne avant externe (mobilit√© interne). Soyez pr√©cis sur les crit√®res pour limiter les candidatures non pertinentes.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'intitule',label:'Intitul√© du poste',type:'text',placeholder:'Ex: Assistant(e) Comptable'},
         {id:'type_contrat',label:'Type de contrat',type:'select',options:['CDI','CDD','Alternance','Stage']},
         {id:'lieu',label:'Lieu',type:'text',prefill:'adresse'},
         {id:'profil',label:'Profil recherch√© (bref)',type:'text',placeholder:'Ex: Bac+2 comptabilit√©, 1 an d\'exp√©rience'},
         {id:'missions_cles',label:'3 missions cl√©s',type:'textarea',placeholder:'‚Ä¢ Mission 1\n‚Ä¢ Mission 2\n‚Ä¢ Mission 3'},
         {id:'salaire',label:'Fourchette salariale (optionnel)',type:'text',placeholder:'Ex: 26 000 ‚Äì 30 000 ‚Ç¨ brut/an'},
         {id:'contact_candidature',label:'Contact pour candidatures',type:'text',prefill:'email'},
         {id:'date_limite',label:'Date limite de candidature',type:'date'},
       ],
       objet:f=>`Offre d'emploi : ${f.intitule||'[Poste]'} (${f.type_contrat||'CDI'}) ‚Äî ${f.entreprise||''}`,
       generate:f=>`Bonjour,\n\n${f.entreprise||'[Entreprise]'} recrute un(e) ${f.intitule||'[Poste]'} en ${f.type_contrat||'CDI'} bas√©(e) √† ${f.lieu||'[Lieu]'}.\n\nüìå PROFIL RECHERCH√â :\n${f.profil||'[Profil]'}\n\nüéØ MISSIONS PRINCIPALES :\n${f.missions_cles||'[Missions]'}\n\n${f.salaire?`üí∞ R√©mun√©ration : ${f.salaire}\n\n`:''}üì¨ Pour postuler : envoyez CV + lettre de motivation √† ${f.contact_candidature||'[Contact]'}\n‚è∞ Date limite : ${f.date_limite||'[Date]'}\n\nN'h√©sitez pas √† partager cette offre autour de vous !\n\nCordialement,\n${f.entreprise||'[Entreprise]'}`
      },
      {id:'sms-convoc-entretien', name:'SMS convocation entretien d\'embauche', icon:'üì±', type:'sms',
       desc:'SMS de convocation rapide pour un entretien de recrutement',
       tips:'Toujours envoyer en compl√©ment d\'un email avec les d√©tails. Le SMS sert de rappel ou de confirmation rapide.',
       fields:[
         {id:'entreprise',label:'Entreprise',type:'text',prefill:'nom'},
         {id:'candidat_prenom',label:'Pr√©nom du candidat',type:'text',placeholder:'Ex: Sophie'},
         {id:'poste',label:'Poste',type:'text',placeholder:'Ex: Vendeur(euse)'},
         {id:'date_entretien',label:'Date & heure',type:'text',placeholder:'Ex: lundi 17 mars √† 10h30'},
         {id:'lieu',label:'Adresse',type:'text',prefill:'adresse'},
         {id:'contact',label:'Contact pour confirmation',type:'text',prefill:'telephone'},
       ],
       generate:f=>`[${f.entreprise||'Entreprise'}] Bonjour ${f.candidat_prenom||'[Pr√©nom]'}, nous vous convions pour le poste ${f.poste||'[Poste]'} le ${f.date_entretien||'[date]'} - ${f.lieu||'[Adresse]'}. Confirmez: ${f.contact||'[T√©l]'}`
      },
    ]
  },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let _currentTheme=null, _currentDoc=null;
let _favorites=new Set(), _generated=0;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
window.initModeles=function(){
  const total=THEMES.reduce((s,t)=>s+t.docs.length,0);
  document.getElementById('stat-total').textContent=total;
  loadFavs();
  renderThemes();
};

function renderThemes(filter=''){
  const grid=document.getElementById('themesGrid');
  const filt=filter.toLowerCase();
  const themes=filt?THEMES.map(t=>({...t,docs:t.docs.filter(d=>
    d.name.toLowerCase().includes(filt)||d.desc.toLowerCase().includes(filt)||t.name.toLowerCase().includes(filt)
  )})).filter(t=>t.docs.length>0):THEMES;

  grid.innerHTML=themes.map(t=>`
    <div class="theme-card ${_currentTheme===t.id?'active':''}"
         style="--tc:${t.color};--tb:${t.bg}"
         onclick="selectTheme('${t.id}')">
      <div class="theme-icon-wrap">${t.icon}</div>
      <div class="theme-name">${t.name}</div>
      <div class="theme-count"><strong>${t.docs.length}</strong> mod√®les</div>
      <div class="theme-tags">${t.tags.map(g=>`<span class="theme-tag">${g}</span>`).join('')}</div>
    </div>`).join('');
}

function selectTheme(id){
  _currentTheme=_currentTheme===id?null:id;
  renderThemes();
  if(!_currentTheme){closePanel();return;}
  const t=THEMES.find(th=>th.id===id);
  if(!t)return;
  renderDocs(t);
  const panel=document.getElementById('docsPanel');
  panel.classList.add('show');
  setTimeout(()=>panel.scrollIntoView({behavior:'smooth',block:'nearest'}),80);
}

function renderDocs(theme){
  document.getElementById('docsPanelTitle').innerHTML=`${theme.icon} ${theme.name}`;
  document.getElementById('docsGrid').innerHTML=theme.docs.map(d=>{
    const bc=d.type==='email'?'badge-email':d.type==='sms'?'badge-sms':'badge-doc';
    const bl=d.type==='email'?'Email':d.type==='sms'?'SMS':'Document';
    return `<div class="doc-card" onclick="openDoc('${d.id}')">
      <span class="type-badge ${bc}">${bl}</span>
      ${_favorites.has(d.id)?'<span class="fav-star">‚≠ê</span>':''}
      <div class="doc-icon">${d.icon}</div>
      <div class="doc-name">${d.name}</div>
      <div class="doc-desc">${d.desc}</div>
    </div>`;
  }).join('');
}

function closePanel(){
  _currentTheme=null;
  document.getElementById('docsPanel').classList.remove('show');
  renderThemes();
}

// ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ
function openDoc(docId){
  const d=THEMES.flatMap(t=>t.docs).find(x=>x.id===docId);
  if(!d)return;
  _currentDoc=d;
  document.getElementById('modal-icon').textContent=d.icon;
  document.getElementById('modal-title').textContent=d.name;
  document.getElementById('fav-btn').textContent=_favorites.has(d.id)?'‚≠ê Favori':'‚òÜ Favori';
  buildForm(d);
  switchTab('form',document.getElementById('tab-form'));
  document.getElementById('genModal').classList.add('show');
  updatePreview();
}

function buildForm(d){
  document.getElementById('modalForm').innerHTML=d.fields.map(f=>{
    let val='';
    if(f.prefill==='nom')val=pv('nom','');
    else if(f.prefill==='adresse')val=pv('adresse','')||pv('adresse1','');
    else if(f.prefill==='email')val=window._userEmail||'';
    else if(f.prefill==='telephone')val=pv('telephone','')||pv('tel','');
    else if(f.prefill==='siret')val=pv('siret','');
    if(f.today)val=new Date().toISOString().split('T')[0];
    if(f.type==='textarea')return `<div class="field-group"><label class="field-label">${f.label}</label><textarea class="field-input" id="f-${f.id}" placeholder="${f.placeholder||''}" rows="3" oninput="updatePreview()">${val}</textarea></div>`;
    if(f.type==='select')return `<div class="field-group"><label class="field-label">${f.label}</label><select class="field-select" id="f-${f.id}" onchange="updatePreview()">${(f.options||[]).map(o=>`<option>${o}</option>`).join('')}</select></div>`;
    return `<div class="field-group"><label class="field-label">${f.label}</label><input class="field-input" id="f-${f.id}" type="${f.type==='date'?'date':'text'}" placeholder="${f.placeholder||''}" value="${val}" oninput="updatePreview()"/></div>`;
  }).join('');
}

function getVals(){
  if(!_currentDoc)return{};
  const v={};
  _currentDoc.fields.forEach(f=>{const el=document.getElementById('f-'+f.id);if(el)v[f.id]=el.value;});
  return v;
}

function updatePreview(){
  if(!_currentDoc)return;
  const f=getVals();
  const content=_currentDoc.generate(f);
  const pr=document.getElementById('modalPreview');
  if(_currentDoc.type==='sms'){
    const cc=content.length,sc=Math.ceil(cc/160);
    pr.innerHTML=`<div style="max-width:400px;margin:0 auto">
      <div class="preview-sms">${esc(content)}</div>
      <div class="sms-chars">${cc} caract√®res ¬∑ ${sc} SMS</div>
      <div style="margin-top:12px;background:#fef3c7;padding:8px 12px;border-radius:8px;font-size:11px;color:#92400e">
        ‚öñÔ∏è Conformit√© RGPD : ces SMS doivent √™tre envoy√©s dans le cadre de la relation de travail uniquement.
      </div></div>`;
  } else if(_currentDoc.type==='email'){
    const subj=_currentDoc.objet?_currentDoc.objet(f):'[Objet]';
    pr.innerHTML=`<div class="preview-email">
      <div class="email-meta">
        <div class="email-meta-row"><span class="email-meta-lbl">De :</span><span>${esc(pv('nom',window._userName||'[Exp√©diteur]'))} &lt;${esc(window._userEmail||'')}&gt;</span></div>
        <div class="email-meta-row"><span class="email-meta-lbl">Objet :</span><span style="font-weight:700">${esc(subj)}</span></div>
      </div>
      <div class="email-body">${esc(content)}</div>
    </div>`;
  } else {
    pr.innerHTML=`<div class="preview-doc">${esc(content)}</div>`;
  }
}

function switchTab(tab,el){
  document.querySelectorAll('.modal-tab').forEach(t=>t.classList.remove('active'));
  if(el)el.classList.add('active');
  const form=document.getElementById('modalForm');
  const prev=document.getElementById('modalPreview');
  if(tab==='form'){form.style.display='';prev.style.display='';}
  else if(tab==='preview'){updatePreview();form.style.display='none';prev.style.display='';}
  else if(tab==='tips'){
    form.style.display='none';
    prev.innerHTML=`<div class="tips-box">
      <div style="font-size:22px;margin-bottom:10px">üí°</div>
      <div style="font-weight:700;margin-bottom:8px">Conseils</div>
      <div style="color:var(--muted);line-height:1.8">${_currentDoc?.tips||'Aucun conseil.'}</div>
      <div class="tips-type-badge">Type : ${_currentDoc?.type==='email'?'üìß Email':_currentDoc?.type==='sms'?'üì± SMS':'üìÑ Document'}</div>
    </div>`;
  }
}

function closeModal(){document.getElementById('genModal').classList.remove('show');}

function copyDoc(){
  if(!_currentDoc)return;
  const content=_currentDoc.generate(getVals());
  navigator.clipboard.writeText(content).then(()=>toast('üìã Copi√© !','success'));
  _generated++;document.getElementById('stat-gen').textContent=_generated;
}

function printDoc(){
  if(!_currentDoc)return;
  const f=getVals(),content=_currentDoc.generate(f),type=_currentDoc.type;
  const w=window.open('','_blank','width=800,height=600');
  const subj=type==='email'&&_currentDoc.objet?_currentDoc.objet(f):'';
  w.document.write(`<!DOCTYPE html><html><head><title>${_currentDoc.name}</title>
  <style>body{font-family:'Segoe UI',sans-serif;max-width:700px;margin:40px auto;font-size:14px;line-height:1.7;color:#1a1f36;white-space:pre-wrap}
  .hdr{text-align:right;color:#6b7280;font-size:11px;margin-bottom:20px;border-bottom:1px solid #e2e8f0;padding-bottom:8px}
  .sms-box{background:#1a1f36;color:white;padding:20px;border-radius:12px;max-width:380px}
  @media print{@page{margin:20mm}body{margin:0}}</style></head><body>
  <div class="hdr">${esc(_currentDoc.name)} ¬∑ ALTEORE ¬∑ ${new Date().toLocaleDateString('fr-FR')}</div>
  ${type==='sms'?`<div class="sms-box">${esc(content)}</div>`:esc(content)}
  <script>window.onload=()=>window.print();<\/script></body></html>`);
  w.document.close();
  _generated++;document.getElementById('stat-gen').textContent=_generated;
  toast('‚úÖ Impression lanc√©e','success');
}

// ‚îÄ‚îÄ FAVORIS ‚îÄ‚îÄ
function loadFavs(){
  try{const s=localStorage.getItem('alteore_rh_fav');if(s)_favorites=new Set(JSON.parse(s));}catch(e){}
  updateFavCount();
}
function saveFavs(){
  try{localStorage.setItem('alteore_rh_fav',JSON.stringify([..._favorites]));}catch(e){}
  updateFavCount();
}
function updateFavCount(){
  const n=_favorites.size;
  document.getElementById('fav-count').textContent=n;
  document.getElementById('stat-fav').textContent=n;
}
function toggleFav(){
  if(!_currentDoc)return;
  if(_favorites.has(_currentDoc.id))_favorites.delete(_currentDoc.id);
  else _favorites.add(_currentDoc.id);
  document.getElementById('fav-btn').textContent=_favorites.has(_currentDoc.id)?'‚≠ê Favori':'‚òÜ Favori';
  saveFavs();
  if(_currentTheme){const t=THEMES.find(x=>x.id===_currentTheme);if(t)renderDocs(t);}
  toast(_favorites.has(_currentDoc.id)?'‚≠ê Ajout√© aux favoris':'Retir√© des favoris');
}
function openFavorites(){
  const favDocs=THEMES.flatMap(t=>t.docs).filter(d=>_favorites.has(d.id));
  if(!favDocs.length){toast('Aucun favori pour l\'instant','warn');return;}
  const fake={id:'_fav',name:'Mes favoris',icon:'‚≠ê',color:'#f59e0b',bg:'#fffbeb',docs:favDocs};
  _currentTheme='_fav';
  renderDocs(fake);
  document.getElementById('docsPanel').classList.add('show');
  document.getElementById('docsPanel').scrollIntoView({behavior:'smooth',block:'nearest'});
}

// ‚îÄ‚îÄ RECHERCHE ‚îÄ‚îÄ
function searchModels(q){
  const v=q.toLowerCase().trim();
  document.getElementById('search-clear').style.display=v?'':'none';
  if(!v){renderThemes();closePanel();_currentTheme=null;return;}
  renderThemes(v);
  const matched=THEMES.filter(t=>t.docs.some(d=>d.name.toLowerCase().includes(v)||d.desc.toLowerCase().includes(v)||t.name.toLowerCase().includes(v)));
  if(matched.length===1){
    const fake={...matched[0],docs:matched[0].docs.filter(d=>d.name.toLowerCase().includes(v)||d.desc.toLowerCase().includes(v)||matched[0].name.toLowerCase().includes(v))};
    _currentTheme=matched[0].id;
    renderDocs(fake);
    document.getElementById('docsPanel').classList.add('show');
  } else {closePanel();_currentTheme=null;}
}
function clearSearch(){document.getElementById('searchInput').value='';searchModels('');}

// ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ
function esc(t){return(t||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
function toast(msg,type=''){const t=document.getElementById('toast');t.textContent=msg;t.className='toast show '+(type||'');setTimeout(()=>t.className='toast',3000);}

// Expose
window.selectTheme=selectTheme;window.closePanel=closePanel;
window.openDoc=openDoc;window.closeModal=closeModal;
window.switchTab=switchTab;window.updatePreview=updatePreview;
window.copyDoc=copyDoc;window.printDoc=printDoc;
window.toggleFav=toggleFav;window.openFavorites=openFavorites;
window.searchModels=searchModels;window.clearSearch=clearSearch;
</script>
<script src="nav.js"></script>
</body>
</html>
